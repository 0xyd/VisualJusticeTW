<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script type="text/javascript">
		var p1 = new Promise(function(resolve, reject) {
			setTimeout(function(){console.log('1 is finished.'); resolve();}, 1000);
		});

		var p2 = new Promise(function(resolve, reject) {
			setTimeout(function(){console.log('2 is finished.'); resolve();}, 3000);
		});

		var p3 = new Promise(function(resolve, reject) {
			Promise.all([p1, p2]).then(function() {
				resolve();
			});
		});

		p3.then(function() {
			console.log('testing');
		});

	</script>
</body>
</html>